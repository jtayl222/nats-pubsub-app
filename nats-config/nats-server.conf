# NATS Server Configuration
# Single-node configuration for development/POC

# Server identification
server_name: $SERVER_NAME

# Listen ports
port: 4222                    # Client connections
http_port: 8222              # HTTP monitoring endpoint

# Logging
debug: false
trace: false
logtime: true
log_file: "/dev/stdout"      # Log to stdout for Docker

# JetStream (persistence and streaming)
jetstream {
  store_dir: "/data/jetstream"
  max_mem: 256M
  max_file: 1G
}

# Connection limits
max_connections: 1000
max_control_line: 4096
max_payload: 1048576          # 1MB max message size
max_pending: 67108864         # 64MB pending data per connection
ping_interval: "2m"           # Quoted duration format
ping_max: 3

# Write deadline
write_deadline: "10s"

# No authentication for development/POC
# For production, enable proper authentication
